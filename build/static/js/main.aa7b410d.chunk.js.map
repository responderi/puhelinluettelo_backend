{"version":3,"sources":["components/ListPersons.js","components/AddPerson.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["ListPersons","_ref","persons","deletePerson","react_default","a","createElement","map","person","key","name","number","onClick","id","AddPerson","statusName","statusNumber","changeNumber","changeName","add","onSubmit","value","onChange","type","Filter","status","change","baseUrl","services_persons","getPersons","axios","get","then","response","data","create","newObject","post","remove","delete","concat","update","updatePerson","put","Notification","message","className","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","event","preventDefault","personObject","state","newName","newNumber","setState","error","setTimeout","searchPerson","find","updatePhone","personService","newPerson","window","confirm","updatedPerson","objectSpread","personDelete","personId","filter","console","log","catch","handleNameChange","target","handleNumberChange","handleFilterChange","_this2","_this3","personsToShow","toString","toLowerCase","includes","components_Notification","components_Filter","components_AddPerson","components_ListPersons","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.aa7b410d.chunk.js","sourcesContent":["import React from 'react'\n\nconst ListPersons = ({ persons, deletePerson }) => (\n  <div>\n    <h2>Numerot</h2>\n    <table>\n      <tbody>\n        {\n          persons.map(person =>\n            <tr key={person.name}>\n              <td>{person.name}</td>\n              <td>{person.number}</td>   \n              <td><button onClick={deletePerson(person.id)}>poista</button></td>          \n            </tr>\n          )\n        }\n      </tbody>\n    </table>\n  </div>\n)\n\nexport default ListPersons","import React from 'react'\n\nconst AddPerson = ({ statusName, statusNumber, changeNumber, changeName, add }) => (\n    <div>\n        <h2>Lisää uusi</h2>\n        <form onSubmit={add}>\n            <div>\n                nimi: <input\n                    value={statusName}\n                    onChange={changeName}\n                />\n            </div>\n            <div>\n                numero: <input\n                    value={statusNumber}\n                    onChange={changeNumber}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    </div>\n)\n\nexport default AddPerson","import React from 'react'\n\nconst Filter = ({ status, change }) => (\n    <div>\n        rajaa näytettäviä <input\n            value={status}\n            onChange={change}\n        />\n    </div>\n)\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, updatePerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, updatePerson)\n    return request.then(response => response.data)\n  }\n  \nexport default { getPersons, create, remove, update }","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","  import React from 'react';\nimport ListPersons from './components/ListPersons'\nimport AddPerson from './components/AddPerson'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      error: null\n    }\n  }\n\n  componentDidMount() {\n    personService\n      .getPersons()\n      .then(persons => {\n        this.setState({ persons })\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n\n    if((this.state.newName === '') || (this.state.newNumber === '')) {\n      this.setState({\n        error: `kumpikaan kenttä ei saa olla tyhjä`\n      })\n      setTimeout(() => {\n        this.setState({error: null})\n      }, 5000)\n      return\n    }\n\n    const searchPerson = this.state.persons.find(person => person.name === this.state.newName)\n    if (!searchPerson) {\n      personService\n        .create(personObject)\n        .then(newPerson => {\n          this.setState({\n            persons: this.state.persons.concat(newPerson),\n            newName: '',\n            newNumber: '',\n            error: `lisättiin ${personObject.name}`\n          })\n          setTimeout(() => {\n            this.setState({error: null})\n          }, 5000)\n\n        })\n    } else {\n      this.updatePhone(searchPerson.id)\n    }\n  }\n\n  updatePhone = (id) => {\n    const name = this.state.newName\n    \n    if(!window.confirm(`${name} on jo olemassa, haluatko antaa uuden numeron`)){\n      this.setState({\n        newName: '',\n        newNumber: ''\n      })\n      return\n    }\n\n    const person = this.state.persons.find(person => person.id === id)\n    const updatedPerson = { ...person, number: this.state.newNumber}\n    personService\n      .update(id, updatedPerson)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.map(person => person.id !== id ? person : updatedPerson ),\n          newName: '',\n          newNumber: '',\n          error: `${updatedPerson.name} numero päivitetty`\n        })\n        setTimeout(() => {\n          this.setState({error: null})\n        }, 5000)\n      })\n  }\n\n  deletePerson = (id) => {\n    return () => {\n      const personDelete = this.state.persons.find(personId => personId.id === id)\n      \n      if(window.confirm('poistetaanko '+personDelete.name+'')) {\n        personService\n          .remove(personDelete.id)\n          .then(response => {\n            this.setState({\n              persons: this.state.persons.filter(person=>person !== personDelete),\n              newName: '',\n              newNumber: '',\n              error: `${personDelete.name} poistettiin onnistuneesti`\n            })\n            console.log('poistettu')\n            setTimeout(() => {\n              this.setState({error: null})\n            }, 5000)  \n          })\n          .catch(error => {\n            console.log('poistaminen epäonnistui')\n          })\n      }\n    }\n  }\n\n  handleNameChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newNumber: event.target.value })\n  }\n\n  handleFilterChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ filter: event.target.value })\n  }\n\n  render() {\n    const personsToShow =\n      this.state.persons.filter(person => person.name.toString().toLowerCase().includes(this.state.filter))\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification message={this.state.error} />\n        <Filter status={this.state.filter} change={this.handleFilterChange} />\n        <AddPerson statusName={this.state.name} statusNumber={this.state.number} changeName={this.handleNameChange} changeNumber={this.handleNumberChange} add={this.addPerson} />\n        <ListPersons persons={personsToShow} deletePerson={this.deletePerson} />\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}