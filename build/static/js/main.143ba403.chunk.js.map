{"version":3,"sources":["components/ListPersons.js","components/AddPerson.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["ListPersons","_ref","persons","deletePerson","react_default","a","createElement","map","person","key","name","number","onClick","id","AddPerson","statusName","statusNumber","changeNumber","changeName","add","onSubmit","value","onChange","type","Filter","status","change","baseUrl","services_persons","getPersons","axios","get","then","response","data","create","newObject","post","remove","delete","concat","update","updatePerson","put","Notification","message","className","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","event","preventDefault","personObject","state","newName","newNumber","searchPerson","find","updatePhone","personService","newPerson","setState","error","setTimeout","window","confirm","updatedPerson","personDelete","personId","filter","console","log","catch","handleNameChange","target","handleNumberChange","handleFilterChange","_this2","_this3","personsToShow","toString","toLowerCase","includes","components_Notification","components_Filter","components_AddPerson","components_ListPersons","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.143ba403.chunk.js","sourcesContent":["import React from 'react'\n\nconst ListPersons = ({ persons, deletePerson }) => (\n  <div>\n    <h2>Numerot</h2>\n    <table>\n      <tbody>\n        {\n          persons.map(person =>\n            <tr key={person.name}>\n              <td>{person.name}</td>\n              <td>{person.number}</td>   \n              <td><button onClick={deletePerson(person.id)}>poista</button></td>          \n            </tr>\n          )\n        }\n      </tbody>\n    </table>\n  </div>\n)\n\nexport default ListPersons","import React from 'react'\n\nconst AddPerson = ({ statusName, statusNumber, changeNumber, changeName, add }) => (\n    <div>\n        <h2>Lisää uusi</h2>\n        <form onSubmit={add}>\n            <div>\n                nimi: <input\n                    value={statusName}\n                    onChange={changeName}\n                />\n            </div>\n            <div>\n                numero: <input\n                    value={statusNumber}\n                    onChange={changeNumber}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    </div>\n)\n\nexport default AddPerson","import React from 'react'\n\nconst Filter = ({ status, change }) => (\n    <div>\n        rajaa näytettäviä <input\n            value={status}\n            onChange={change}\n        />\n    </div>\n)\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getPersons = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, updatePerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, updatePerson)\n    return request.then(response => response.data)\n  }\n  \nexport default { getPersons, create, remove, update }","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react';\nimport ListPersons from './components/ListPersons'\nimport AddPerson from './components/AddPerson'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      error: null\n    }\n  }\n\n  componentDidMount() {\n    personService\n      .getPersons()\n      .then(persons => {\n        this.setState({ persons })\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n\n    const searchPerson = this.state.persons.find(person => person.name === this.state.newName)\n    if (!searchPerson) {\n      personService\n        .create(personObject)\n        .then(newPerson => {\n          this.setState({\n            persons: this.state.persons.concat(newPerson),\n            newName: '',\n            newNumber: '',\n            error: `lisättiin ${personObject.name}`\n          })\n          setTimeout(() => {\n            this.setState({error: null})\n          }, 5000)\n\n        })\n    } else {\n      this.updatePhone(searchPerson.id)\n    }\n  }\n\n  updatePhone = (id) => {\n    const name = this.state.newName\n    const number = this.state.newNumber\n    \n    if(!window.confirm(`${name} on jo olemassa, haluatko antaa uuden numeron`)){\n      this.setState({\n        newName: '',\n        newNumber: ''\n      })\n      return\n    }\n\n    personService\n      .update(id, { name, number })\n      .then(updatedPerson => {\n        this.setState({\n          persons: this.state.persons.map(person => person.id !== id ? person : updatedPerson ),\n          newName: '',\n          newNumber: '',\n          error: `${updatedPerson.name} numero päivitetty`\n        })\n        setTimeout(() => {\n          this.setState({error: null})\n        }, 5000)\n      })\n  }\n\n  deletePerson = (id) => {\n    return () => {\n      const personDelete = this.state.persons.find(personId => personId.id === id)\n      \n      if(window.confirm('poistetaanko '+personDelete.name+'')) {\n        personService\n          .remove(personDelete.id)\n          .then(response => {\n            this.setState({\n              persons: this.state.persons.filter(person=>person !== personDelete),\n              newName: '',\n              newNumber: '',\n              error: `${personDelete.name} poistettiin onnistuneesti`\n            })\n            console.log('poistettu')\n            setTimeout(() => {\n              this.setState({error: null})\n            }, 5000)  \n          })\n          .catch(error => {\n            console.log('poistaminen epäonnistui')\n          })\n      }\n    }\n  }\n\n  handleNameChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ newNumber: event.target.value })\n  }\n\n  handleFilterChange = (event) => {\n    console.log(event.target.value)\n    this.setState({ filter: event.target.value })\n  }\n\n  render() {\n    const personsToShow =\n      this.state.persons.filter(person => person.name.toString().toLowerCase().includes(this.state.filter))\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification message={this.state.error} />\n        <Filter status={this.state.filter} change={this.handleFilterChange} />\n        <AddPerson statusName={this.state.name} statusNumber={this.state.number} changeName={this.handleNameChange} changeNumber={this.handleNumberChange} add={this.addPerson} />\n        <ListPersons persons={personsToShow} deletePerson={this.deletePerson} />\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}